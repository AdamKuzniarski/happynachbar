# Users Dashboard - Profile Completion + Roles (Admin/Moderator/User)

## Summary

Create a Users Dashboard page + API support so users can complete their profile with common portal fields.

## Tasks

- [ ] DB Prisma

  - Extend `UserProfile` with `bio: String?`
  - Run migration

- [ ] Backend API
  - Extend `GET /users/me` to return:
    - user basics (id, email)
    - `profile`(UsersProfile)
    - `profileCompletion` object: `{ isComplete, percent, missing[] }`
  - Extend existing `PATCH /users/me` to upsert profile fields:
    - fields: `displayName`, `plz`, `avatarURL`, `bio`
    - implement validation:
      - `displayName` (max/min)
      - `plz` trimmed
      - `bio` max length (300 chars)
      - `avatarUrl` comes from S3 url
    - `PATCH /users/me` does NOT allow updating role or other restricted fields

## Acceptance Criteria

- [ ] `UserProfile.bio` exists in DB and can be saved/updated.
- [ ] `GET /users/me` returns `profileCompletion` with correct:
  - `missing` list based on required fields: `displayName`, `plz`, `avatarUrl`, `bio`
  - `percent` reflects filled required fields
- [ ] `PATCH /users/me` can set/update all fields (upsert works).
- [ ] User can upload an avatar via presign + S3 upload persist `avatarUrl` via `PATCH /users/me`.
